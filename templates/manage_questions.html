<!DOCTYPE html>
<html>

<head>
	<title>Manage Questions</title>
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Rubik:400,700'>
  <link rel='stylesheet' href="./style.css">
	<script src="./script.js"></script>
</head>

<body onload="adddefaulttestcases()">
	<nav>
    <label class="logo">Manage Questions</label>
    <ul>
			<li><a href="./app?page=landing">Home</a></li>
			<li><a href="./app?page=manage_questions">Manage Questions</a></li>
			<li><a href="./app?page=manage_exams">Manage Exams</a></li>
			<li><a href="./app?page=grade_exams">Grade Exams</a></li>
			<li><a href="./logout">Log Out</a>
    </ul>
	</nav>

<!-- Create Question ---------------------------------------------------------->
	<div class="row">
		 <div class="column left" style="background-color:#DFDFDF;">
		   <h2>Create Question</h2><br>
			 <div class="greybox">

		    <form action="/create_question" method="POST">
					<h3><label for="title">Title:</label></h3>
					<input type="text" name="title" size=60 required><br>
					<br>

		      <h3><label for="description">Description:</label></h3>
					<textarea name="description" rows=8 cols=60 required></textarea><br>
					<br>

					<h3><label for="function_name">Function Name:</label></h3>
					<input type="text" name="function_name" style="width:150px" required><br>
					<br>

					<h3><label for="category">Category:</label></h3>
					<select name="category" style="width:150px" required>
						{% for c in categories %}
							<option value="{{ c }}">{{ c }}</option>
						{% endfor %}
	      	</select><br>
					<br>

					<h3><label for="difficulty">Difficulty:</label></h3>
					<select name="difficulty" style="width:150px" required>
						{% for d in difficulties %}
							<option value="{{ d }}">{{ d }}</option>
						{% endfor %}
	      	</select><br>
					<br>

					<h3>Test Cases:</h3>(For multiple values, separate with a space)<br><br>
					<label for="testcasecount">Number of Test Cases:</label>
					<input type="number" name="testcasecount" id="testcasecount" min="2" max="50" step="1" value="2" oninput="testcasecountchanged()"/><br><br>
					<div id="testCases"></div> <!-- displays form fields on click -->
					<!-- <button type="button" id="addtestcase" onclick="addTestCase()">Add Test Case</button><br> -->

		  </div><br> <!-- end box -->

			<button type="submit" id="questionSubmit" style="width:95%">Add to Question Bank</button><br><br>

		</form> <!-- end of question creation -->

		</div> <!-- end column left/Create Questions -->

<!-- Filter Questions  -------------------------------------------------------->
		<div class="column right" style="background-color:#DFDFDF;">
		   <div class="greybox">

		     <h3>Filter Questions</h3><br>
					<form action="/app?page=manage_questions" method="POST">

		        <label for="category">Category:</label>
		        <select name="category">
		          {% for c in categories %}
		            <option value="{{ c }}">{{ c }}</option>
		          {% endfor %}
		        </select><br>
		        <br>

		        <label for="difficulty">Difficulty:</label>
		        <select name="difficulty">
		          {% for d in difficulties %}
		            <option value="{{ d }}">{{ d }}</option>
		          {% endfor %}
		        </select><br><br>

						<button type="button">Apply</button> <!-- type: button or submit? -->

					</form>
				</div><br>
<!-- Question Bank ------------------------------------------------------------>
			  <h2>Question Bank</h2><br>
				<!-- displaying table for each question in bank -->
				<div class="greybox">
 				{% for q in questionBank %}
					<table style="width:100%">
	 					<colgroup>
	 				  	<col span="1" style="width:150px";
	 				  </colgroup>
	 				  <tr>
	 				  	<th>Title</th>
	 				    <td>{{ q.title }}</td>
	 				  </tr>

	 				  <tr>
	 				     <th>Description</th>
	 				     <td>{{ q.description }}</td>
	 				  </tr>
	 				  <tr>
	 				     <th>Category</th>
	 				     <td>{{ q.category }}</td>
	 				  </tr>
	 				  <tr>
	 				     <th>Difficulty</th>
	 				     <td>{{ q.difficulty }}</td>
	 				  </tr>
	 				  <tr>
	 				     <th>Test Cases</th>
							 <td>
								 <!-- test cases -->
								 {% set args = q.testcaseargs %}
								 {% set outputs = q.testcaseoutputs %}
								 {% for i in range(args|length)%}
								 		{{ q.functionname }}({{ args[i] }}) --> {{ outputs[i] }}<br>
								 {% endfor %}
						 </td>
	 				  </tr>
					 <br>
 				 </table>
				 {% endfor %} <!-- end table values -->

			 <br></div><br> <!-- end box -->

			</div> <!-- end column right/Question Bank -->

		</div> <!-- end row -->

</body>

</html>
